# Q&A 생성기 프롬프트 개선 제안

## 📋 현재 프롬프트 분석

### ✅ 잘 구현된 부분
1. **일반인 질문 생성**: 오타, 은어, 구어체 사용 지침이 명확함
2. **전문가 답변 구조**: 공감 → 팩트체크 → 전문성 → 비교 → 액션 유도 순서가 체계적
3. **포맷팅 규칙**: 문단 구분, 줄바꿈 규칙이 상세히 명시됨
4. **톤 다양성**: friendly, expert, comparative, persuasive 4가지 톤 지원

### 🔍 개선이 필요한 부분
1. **일반인 질문의 자연스러움**: 실제 보험카페에서 보이는 더 다양한 표현 패턴 필요
2. **전문가 답변의 구체성**: 실제 보험료, 특약명 등 구체적 데이터 활용 부족
3. **감정 상태 반영**: feelingTone이 질문에만 반영되고 답변에는 미반영
4. **설계서 활용**: 설계서 이미지가 있을 때 더 구체적으로 활용 가능

---

## 💡 개선 제안

### 1. **일반인 질문 생성 (Step 1) 개선**

#### 1.1 나이대별/성별별 말투 차이 반영
**현재**: 모든 일반인을 동일한 말투로 처리
**제안**: targetPersona에서 나이/성별을 추출하여 말투 차별화

```typescript
// 예시 추가
- 20대: "이거 괜찮나요?", "혹시...", "설계서 받았는데 잘 모르겠어요 ㅠㅠ"
- 30-40대: "이거 괜찮은가요?", "혹시 다른 보험사도 괜찮은지...", "설계서 받았는데 잘 모르겠어서 질문드립니다"
- 50대 이상: "이게 괜찮은 건지 모르겠어서요", "설계서를 받았는데 잘 모르겠어서 문의드립니다"
```

#### 1.2 더 자연스러운 오타/은어 패턴
**현재**: 기본적인 오타 패턴만 제시
**제안**: 실제 보험카페에서 자주 보이는 패턴 추가

```typescript
// 추가 예시
- "이거 괜찮나요?" → "이거 괜찮나요??" (물음표 중복)
- "혹시..." → "혹시...?" (끝에 물음표)
- "설계서 받았는데" → "설계서 받았는데요" (요 체 사용)
- "궁금해서" → "궁금해서요" (요 체)
- "보험료가" → "보험료가요" (요 체)
- "이거 맞나요?" → "이거 맞나요??" (물음표 중복)
```

#### 1.3 설계서 내용 구체적 언급
**현재**: "설계서 첨부했어요" 정도만 언급
**제안**: 설계서에서 추출한 정보를 자연스럽게 언급

```typescript
// 예시 추가
- "설계서 받았는데 보험료가 [금액]원이에요. 이게 적정한가요?"
- "설계서 보니까 [특약명]이 포함되어 있는데 이게 필요한 건가요?"
- "설계서에 [담보명]이 있는데 이게 뭔지 모르겠어요"
```

#### 1.4 더 다양한 감정 표현
**현재**: 급함, 고민, 궁금, 불안 4가지만
**제안**: 더 세분화된 감정 상태 추가

```typescript
// 추가 감정 상태
- 혼란: "설계서 보니까 너무 복잡해서", "뭔 말인지 모르겠어요"
- 부담: "보험료가 부담스러워서", "월 [금액]원이 부담인데"
- 확신부족: "이게 맞는 건지 확신이 안 서서", "다른 거랑 비교해봐야 할 것 같아서"
- 긴급: "빨리 가입해야 하는데", "이번 주 안에 결정해야 해서"
```

#### 1.5 비교 요청을 더 자연스럽게
**현재**: "다른 보험사도 괜찮은지..." 정도만
**제안**: 더 구체적이고 자연스러운 비교 요청

```typescript
// 예시 추가
- "다른 보험사도 괜찮은지 궁금해요"
- "혹시 더 저렴한 상품이 있을까요?"
- "비슷한 보장인데 보험료가 더 싼 게 있을까요?"
- "이 상품이 다른 거랑 비교해서 어떤가요?"
```

---

### 2. **전문가 답변 생성 (Step 2) 개선**

#### 2.1 질문자의 감정 상태에 맞춘 공감 표현
**현재**: 일반적인 공감만 표현
**제안**: feelingTone에 맞춘 구체적 공감

```typescript
// feelingTone별 공감 예시 추가
- 급함: "급하게 알아보시는 마음 이해합니다. 빠르게 답변드릴게요."
- 고민: "고민이 많으시겠어요. 보험 선택은 정말 중요한 결정이니까요."
- 불안: "걱정되시는 마음 이해합니다. 차근차근 설명드릴게요."
- 혼란: "설계서가 복잡해 보이시겠어요. 쉽게 설명드릴게요."
```

#### 2.2 구체적 데이터 활용 (Google Sheets 연동)
**현재**: 일반적인 설명만 제공
**제안**: 실제 보험료 데이터, 특약 정보를 활용한 구체적 답변

```typescript
// 프롬프트에 추가
- "질문자의 나이/성별에 맞는 실제 보험료 데이터를 참고하여 답변하세요"
- "비교할 때는 구체적인 보험료 금액을 제시하세요 (예: '삼성생명은 월 3만원, 한화생명은 월 3.5만원')"
- "특약 구성은 실제 상품의 특약명을 사용하세요"
```

#### 2.3 설계서 내용 기반 구체적 분석
**현재**: 설계서를 단순 언급만
**제안**: 설계서에서 추출한 정보를 바탕으로 구체적 분석

```typescript
// 프롬프트에 추가
- "설계서에 명시된 보험료, 특약, 담보를 구체적으로 언급하며 분석하세요"
- "설계서의 특약 구성이 합리적인지, 보험료가 적정한지 구체적으로 평가하세요"
```

#### 2.4 더 자연스러운 비교 표현
**현재**: "삼성생명은... 한화생명은..." 형식
**제안**: 더 자연스럽고 설득력 있는 비교

```typescript
// 예시 개선
기존: "삼성생명은 보험료가 저렴하지만, 한화생명은 특약이 풍부합니다."
개선: "비슷한 보장 기준으로 비교해보면, 삼성생명은 월 3만원대로 보험료가 저렴한 편이고, 한화생명은 특약 구성이 더 풍부해서 월 3.5만원대입니다. 현재 상품은 [상품명]은 월 [금액]원으로 중간 위치에 있어 가성비가 좋은 편입니다."
```

#### 2.5 액션 유도를 더 다양하게
**현재**: "쪽지 주세요", "프로필 확인" 정도만
**제안**: 더 자연스럽고 다양한 액션 유도

```typescript
// 추가 예시
- "더 자세한 상담이 필요하시면 쪽지나 프로필 확인 후 연락 주세요."
- "궁금한 점 있으시면 언제든 문의 주시면 친절하게 답변드리겠습니다."
- "설계서 재검토나 다른 상품 비교가 필요하시면 연락 주세요."
- "프로필에 연락처 있으니 확인해보시고 궁금한 점 있으시면 언제든 문의 주세요."
```

#### 2.6 답변 길이 조정
**현재**: 300-600자 내외
**제안**: 질문의 복잡도에 따라 유연하게 조정

```typescript
// 프롬프트에 추가
- "질문이 간단하면 300-400자, 복잡하면 500-700자로 조정하세요"
- "핵심만 간결하게 전달하되, 필요한 정보는 빠짐없이 포함하세요"
```

#### 2.7 이모티콘 사용 가이드라인
**현재**: "적절히 사용 가능" 정도만
**제안**: 구체적인 사용 규칙 제시

```typescript
// 추가 가이드라인
- "이모티콘은 문단 끝에 1-2개만 사용하세요 (예: 👍, 💡)"
- "과도한 이모티콘 사용은 피하세요"
- "전문성을 해치지 않는 선에서만 사용하세요"
```

---

### 3. **전체적인 개선**

#### 3.1 프롬프트 구조 개선
**제안**: 더 명확한 섹션 구분

```typescript
// 현재: [지침] → [입력 정보] → [출력 형식]
// 개선: [역할 설정] → [핵심 지침] → [구체적 예시] → [입력 정보] → [출력 형식] → [주의사항]
```

#### 3.2 실제 보험카페 데이터 학습
**제안**: 실제 보험카페 Q&A 샘플을 프롬프트에 포함

```typescript
// 프롬프트에 추가
- "아래는 실제 보험카페에서 자주 보이는 질문/답변 패턴입니다. 이를 참고하여 자연스러운 표현을 사용하세요"
- [실제 샘플 3-5개 추가]
```

#### 3.3 설계서 이미지 분석 결과 활용
**현재**: designSheetImage만 전달
**제안**: 설계서 분석 결과(보험료, 특약, 담보 등)를 프롬프트에 포함

```typescript
// QAPromptData에 추가
interface QAPromptData {
  // ... 기존 필드
  designSheetAnalysis?: {
    premium?: string
    coverages?: string[]
    specialClauses?: string[]
  }
}
```

#### 3.4 오류 방지 강화
**제안**: 자주 발생하는 오류를 명시적으로 방지

```typescript
// 프롬프트에 추가
- "절대 하지 말아야 할 것:"
  - 전문 용어 남발 (납입면제, 해지환급금 등)
  - 과도한 이모티콘 사용
  - 한 문단에 모든 내용 압축
  - 상품명 마스킹 (일반 고객 질문이므로 필요 없음)
  - 제어 문자 사용
```

#### 3.5 다양성 확보
**제안**: 같은 입력에 대해 다양한 질문/답변 생성

```typescript
// 프롬프트에 추가
- "매번 생성할 때마다 다른 표현, 다른 예시를 사용하여 다양성을 확보하세요"
- "같은 내용이라도 표현 방식, 문장 구조를 달리하여 자연스러움을 높이세요"
```

---

## 🎯 우선순위별 개선 사항

### 🔴 높은 우선순위 (즉시 적용 권장)
1. **설계서 내용 구체적 언급** (1.3)
2. **질문자의 감정 상태에 맞춘 공감 표현** (2.1)
3. **구체적 데이터 활용** (2.2)
4. **오류 방지 강화** (3.4)

### 🟡 중간 우선순위 (단기간 내 적용 권장)
1. **나이대별/성별별 말투 차이 반영** (1.1)
2. **더 자연스러운 오타/은어 패턴** (1.2)
3. **더 자연스러운 비교 표현** (2.4)
4. **설계서 이미지 분석 결과 활용** (3.3)

### 🟢 낮은 우선순위 (장기 개선 사항)
1. **더 다양한 감정 표현** (1.4)
2. **답변 길이 조정** (2.6)
3. **이모티콘 사용 가이드라인** (2.7)
4. **실제 보험카페 데이터 학습** (3.2)

---

## 📝 추가 고려사항

### 1. A/B 테스트
- 현재 프롬프트와 개선된 프롬프트로 생성된 Q&A를 비교
- 실제 보험카페에 올렸을 때의 반응(조회수, 댓글, 쪽지) 측정

### 2. 사용자 피드백 수집
- 생성된 Q&A에 대한 사용자 만족도 조사
- "자연스러운가?", "설득력 있는가?", "실제 사용 가능한가?" 등

### 3. 지속적 개선
- 실제 보험카페 Q&A 트렌드 반영
- 새로운 보험 상품 출시 시 프롬프트 업데이트
- 계절별, 이벤트별 특수 상황 대응

---

## 💭 최종 제안 요약

현재 프롬프트는 **기본 구조가 잘 잡혀있지만**, **자연스러움과 구체성** 측면에서 개선 여지가 있습니다.

**핵심 개선 포인트:**
1. ✅ **더 자연스러운 일반인 말투** (나이대별, 감정별 차별화)
2. ✅ **구체적 데이터 활용** (실제 보험료, 특약명 등)
3. ✅ **설계서 내용 구체적 반영**
4. ✅ **감정 상태에 맞춘 공감 표현**
5. ✅ **오류 방지 강화**

이러한 개선을 통해 **더 자연스럽고, 더 설득력 있고, 더 실용적인 Q&A**를 생성할 수 있을 것입니다.


