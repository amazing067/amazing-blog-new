# GCP 프로젝트 통합 가이드 - 처음부터 깔끔하게

## 📋 목차
1. [기존 프로젝트 정리](#1-기존-프로젝트-정리)
2. [새 프로젝트 생성](#2-새-프로젝트-생성)
3. [필요한 API 활성화](#3-필요한-api-활성화)
4. [API 키 발급](#4-api-키-발급)
5. [Custom Search Engine 설정](#5-custom-search-engine-설정)
6. [OAuth 클라이언트 설정](#6-oauth-클라이언트-설정)
7. [환경 변수 업데이트](#7-환경-변수-업데이트)
8. [기존 프로젝트 삭제](#8-기존-프로젝트-삭제)
9. [테스트 및 확인](#9-테스트-및-확인)
10. [할당량 관리 팁](#10-할당량-관리-팁)
11. [문제 해결](#11-문제-해결)
12. [완료 체크리스트](#12-완료-체크리스트)

---

## 🚀 빠른 시작 가이드

**전체 과정을 한눈에 보기:**

1. ✅ **기존 프로젝트 확인** → 어떤 프로젝트들이 있는지 확인
2. ✅ **새 프로젝트 생성** → `amazing-biz-blog` 프로젝트 생성
3. ✅ **결제 계정 연결** → 기존 결제 계정(`ksmic333-org` 등) 선택
4. ✅ **API 활성화** → Generative Language, Custom Search, Sheets API
5. ✅ **API 키 발급** → Gemini API 키, Google API 키
6. ✅ **Custom Search Engine** → 새 검색 엔진 생성 및 ID 복사
7. ✅ **OAuth 설정** → OAuth 동의 화면 및 클라이언트 ID 생성
8. ✅ **환경 변수 업데이트** → `.env.local` 파일에 새 키들 입력
9. ✅ **테스트** → 애플리케이션 정상 작동 확인
10. ✅ **기존 프로젝트 삭제** → 불필요한 프로젝트들 정리

**예상 소요 시간**: 약 30-60분

---

## 1. 기존 프로젝트 정리

### 1-1. 현재 사용 중인 프로젝트 확인
1. [Google Cloud Console](https://console.cloud.google.com) 접속
2. 상단 프로젝트 선택 드롭다운 클릭
3. 현재 사용 중인 프로젝트 목록 확인:
   - `Default Gemini Project` (삭제 예정)
   - `blog-ai-search` (삭제 예정)
   - 기타 불필요한 프로젝트들

### 1-2. 기존 프로젝트에서 필요한 정보 백업
**⚠️ 중요: 삭제 전에 반드시 백업하세요!**

다음 정보들을 메모장에 복사해두세요:
- 현재 `.env.local` 파일의 모든 값
- Custom Search Engine ID (나중에 재설정 필요)
- OAuth 리디렉션 URI (나중에 재설정 필요)

---

## 2. 새 프로젝트 생성

### 2-1. 프로젝트 생성

#### 2-1-1. Google Cloud Console 접속
1. 브라우저에서 [Google Cloud Console](https://console.cloud.google.com) 접속
2. Google 계정으로 로그인 (필요한 경우)

#### 2-1-2. 프로젝트 생성 시작
1. **상단 프로젝트 선택 드롭다운 클릭**
   - 화면 상단 중앙에 현재 프로젝트 이름이 표시됨
   - 클릭하면 프로젝트 목록이 열림

2. **"새 프로젝트" 버튼 클릭**
   - 프로젝트 목록 상단에 **"새 프로젝트"** 버튼이 있음
   - 또는 오른쪽 상단의 **"새 프로젝트"** 버튼 클릭

#### 2-1-3. 프로젝트 정보 입력
새 프로젝트 생성 화면이 열립니다:

1. **프로젝트 이름 입력**
   - **"프로젝트 이름"** 필드에 입력: `amazing-biz-blog`
   - 또는 원하는 이름 입력 (예: `blog-unified`, `my-blog-project`)
   - ⚠️ 프로젝트 이름은 나중에 변경 가능하지만, 프로젝트 ID는 변경 불가

2. **조직 선택 (있는 경우)**
   - **"조직"** 드롭다운이 보이면:
     - 조직이 있다면: 해당 조직 선택 (예: `ksmic333-org`)
     - 조직이 없다면: **"조직 없음"** 선택 또는 건너뛰기
   - 조직이 보이지 않으면: 개인 계정이므로 건너뛰기

3. **위치 선택 (조직이 있는 경우)**
   - 조직을 선택했다면 **"위치"** 선택
   - 조직이 없다면 이 항목이 보이지 않을 수 있음

4. **"만들기" 버튼 클릭**
   - 화면 하단 또는 오른쪽의 **"만들기"** 버튼 클릭

#### 2-1-4. 프로젝트 생성 대기
1. **생성 중 표시**
   - 화면에 "프로젝트를 만들고 있습니다..." 메시지 표시
   - 보통 10-30초 소요

2. **생성 완료 확인**
   - 생성 완료 시 알림이 표시됨
   - 자동으로 새 프로젝트가 선택됨
   - 상단 프로젝트 선택 드롭다운에 `amazing-biz-blog` 표시됨

#### 2-1-5. 프로젝트 선택 확인
1. 상단 프로젝트 선택 드롭다운 확인
2. `amazing-biz-blog`가 선택되어 있는지 확인
3. 선택되어 있지 않으면 드롭다운에서 선택

### 2-2. 결제 계정 연결

**📌 중요 개념 이해하기**

**결제 계정 vs 프로젝트:**
- **결제 계정**: 여러 프로젝트에 연결할 수 있는 독립적인 결제 수단
- **프로젝트**: 결제 계정에 연결되어 사용량이 청구됨
- **프로젝트를 삭제해도 결제 계정은 사라지지 않습니다!**
- 결제 계정은 여러 프로젝트에서 재사용 가능합니다.

**조직 계정 vs 개인 계정:**
- **조직 계정** (`ksmic333-org` 같은 것): 회사나 조직의 결제 계정
- **개인 계정**: 개인 Google 계정의 결제 계정
- 둘 다 사용 가능하지만, 조직 계정을 사용하는 것을 권장합니다.

---

#### 2-2-1. 결제 계정 연결 방법

1. **새 프로젝트 선택**
   - 상단 프로젝트 선택 드롭다운에서 `amazing-biz-blog` 선택

2. **결제 메뉴 접속**
   - 왼쪽 메뉴에서 **"결제"** 클릭
   - 또는 직접 링크: https://console.cloud.google.com/billing

3. **결제 계정 연결 시작**
   - 화면 중앙에 **"결제 계정 연결"** 버튼이 보이면 클릭
   - 또는 상단에 **"결제 계정 연결"** 링크 클릭

4. **결제 계정 선택**
   - **"결제 계정"** 드롭다운이 열립니다
   - 다음 옵션들이 보일 수 있습니다:
   
   **옵션 1: 기존 결제 계정 사용 (권장)**
   - `ksmic333-org` (자동화블로그) 같은 기존 결제 계정이 보이면
   - **이 계정을 선택하세요!** (프로젝트 삭제해도 이 계정은 유지됩니다)
   - 드롭다운에서 `ksmic333-org` 선택
   - **"연결"** 또는 **"설정"** 버튼 클릭
   
   **💡 실제 화면에서 보이는 것:**
   - 결제 계정 드롭다운을 클릭하면:
     - `ksmic333-org` (자동화블로그) ← **이것을 선택!**
     - "내가 관리하는 다른 결제 계정"
     - "내 결제 계정"
   - `ksmic333-org`를 선택하면 됩니다.
   
   **옵션 2: 새 결제 계정 생성**
   - 기존 결제 계정이 없거나 새로 만들고 싶은 경우
   - **"새 결제 계정 만들기"** 클릭
   - 결제 정보 입력 (신용카드 등)
   - 계정 이름 입력 (예: `amazing-biz-blog-billing`)
   - **"만들기 및 연결"** 클릭

5. **연결 확인**
   - 연결 완료 후 화면에 결제 계정 정보가 표시됩니다
   - 예: `결제 계정: ksmic333-org (자동화블로그)`

---

#### 2-2-2. 결제 계정 선택 가이드

**Q: 어떤 결제 계정을 선택해야 하나요?**

**A: 기존에 사용하던 결제 계정을 선택하세요!**

- ✅ **`ksmic333-org` (자동화블로그)** 같은 기존 계정이 보이면 → **이것을 선택**
- ✅ 기존 프로젝트들(`Default Gemini Project`, `blog-ai-search`)에서 사용하던 결제 계정 → **동일한 계정 사용**
- ✅ 결제 내역을 한 곳에서 관리하고 싶다면 → **기존 계정 재사용**
- ❌ 프로젝트를 삭제하면 결제 계정도 사라진다? → **아니요! 결제 계정은 독립적입니다**

**💡 추천 방법:**
1. 기존 프로젝트(`blog-ai-search` 등)에서 어떤 결제 계정을 사용했는지 확인
2. 동일한 결제 계정을 새 프로젝트에도 연결
3. 나중에 기존 프로젝트를 삭제해도 결제 계정은 그대로 유지됨

---

#### 2-2-3. 결제 계정 확인 방법

**기존 프로젝트의 결제 계정 확인:**
1. 기존 프로젝트(`blog-ai-search` 등) 선택
2. 왼쪽 메뉴에서 **"결제"** 클릭
3. 연결된 결제 계정 이름 확인 (예: `ksmic333-org`)
4. 이 정보를 메모해두고, 새 프로젝트에도 동일한 계정 연결

---

#### 2-2-4. 결제 계정 이름 변경하기

**결제 계정 이름은 변경할 수 있습니다!**

1. **결제 계정 관리 페이지 접속**
   - [Google Cloud Console 결제 페이지](https://console.cloud.google.com/billing) 접속
   - 또는 왼쪽 메뉴에서 **"결제"** → **"결제 계정 관리"** 클릭

2. **결제 계정 목록 확인**
   - 관리하는 모든 결제 계정이 목록으로 표시됨
   - 예: `ksmic333-org` (자동화블로그), 기타 계정들

3. **변경할 결제 계정 선택**
   - 이름을 변경하고 싶은 결제 계정 클릭
   - 예: `ksmic333-org` (자동화블로그) 클릭

4. **결제 계정 설정 페이지 접속**
   - 결제 계정 상세 페이지에서 **"설정"** 또는 **"Settings"** 탭 클릭
   - 또는 **"계정 설정"** 링크 클릭

5. **계정 이름 변경**
   - **"계정 이름"** 또는 **"Account name"** 필드 찾기
   - 현재 이름 (예: `자동화블로그`)을 원하는 이름으로 변경
   - 예: `amazing-biz-blog`, `통합-블로그`, `메인-결제계정` 등
   - **"저장"** 또는 **"Save"** 버튼 클릭

6. **변경 확인**
   - 변경 완료 메시지 확인
   - 결제 계정 목록에서 새 이름으로 표시되는지 확인

**💡 팁**: 
- 계정 이름은 나중에 언제든지 변경 가능합니다.
- 명확하고 기억하기 쉬운 이름으로 변경하는 것을 권장합니다.

---

#### 2-2-5. 불필요한 결제 계정 정리하기

**여러 결제 계정이 있어서 헷갈리는 경우, 하나만 남기고 나머지를 정리할 수 있습니다.**

**⚠️ 주의사항:**
- 결제 계정을 삭제하기 전에 **연결된 프로젝트가 없는지** 확인하세요.
- 조직 계정(`ksmic333-org`)은 조직과 연결되어 있어서 삭제가 복잡할 수 있습니다.
- **비활성화**를 먼저 고려하세요 (삭제보다 안전함).

---

**방법 1: 결제 계정 비활성화 (권장)**

**사용하지 않는 결제 계정을 비활성화하면 더 이상 사용할 수 없지만, 나중에 다시 활성화할 수 있습니다.**

1. **결제 계정 관리 페이지 접속**
   - [결제 계정 관리](https://console.cloud.google.com/billing) 접속

2. **비활성화할 계정 선택**
   - 사용하지 않는 결제 계정 클릭

3. **계정 설정 접속**
   - **"설정"** 또는 **"Settings"** 탭 클릭

4. **계정 닫기**
   - **"계정 닫기"** 또는 **"Close billing account"** 버튼 클릭
   - 확인 메시지에서 **"닫기"** 클릭

5. **비활성화 확인**
   - 계정 상태가 "닫힘" 또는 "Closed"로 변경됨
   - 더 이상 새 프로젝트에 연결할 수 없음

**💡 나중에 다시 사용하고 싶으면:**
- 동일한 페이지에서 **"계정 다시 열기"** 또는 **"Reopen billing account"** 클릭

---

**방법 2: 결제 계정 삭제 (신중하게)**

**⚠️ 매우 주의**: 결제 계정을 삭제하면 복구할 수 없습니다!

1. **연결된 프로젝트 확인**
   - 삭제하려는 결제 계정에 연결된 프로젝트가 있는지 확인
   - 모든 프로젝트를 먼저 삭제하거나 다른 결제 계정으로 이동

2. **결제 계정 설정 접속**
   - 결제 계정 관리 페이지에서 삭제할 계정 선택
   - **"설정"** 탭 클릭

3. **계정 삭제**
   - **"결제 계정 삭제"** 또는 **"Delete billing account"** 버튼 클릭
   - ⚠️ 이 작업은 되돌릴 수 없습니다!
   - 확인 메시지에서 계정 ID 입력하여 확인
   - **"삭제"** 클릭

**⚠️ 삭제 전 체크리스트:**
- [ ] 연결된 모든 프로젝트 삭제 또는 다른 결제 계정으로 이동 완료
- [ ] 중요한 데이터 백업 완료
- [ ] 정말 삭제가 필요한지 재확인

---

**방법 3: 조직 계정 정리 (조직 관리자 권한 필요)**

**조직 계정(`ksmic333-org`)의 경우:**

1. **조직 관리 페이지 접속**
   - [Google Cloud Console 조직 관리](https://console.cloud.google.com/iam-admin/org) 접속

2. **조직 내 프로젝트 확인**
   - 조직에 속한 모든 프로젝트 목록 확인
   - 불필요한 프로젝트들 삭제

3. **결제 계정 연결 해제**
   - 각 프로젝트의 결제 계정 연결 해제
   - 또는 모든 프로젝트 삭제

4. **결제 계정 정리**
   - 위의 방법 1 또는 2로 결제 계정 정리

**💡 추천 순서:**
1. 먼저 **모든 불필요한 프로젝트 삭제** (8단계 참고)
2. 그 다음 **결제 계정 비활성화** (방법 1)
3. 나중에 필요 없으면 **결제 계정 삭제** (방법 2)

---

#### 2-2-6. 결제 계정 연결 후 확인

**연결 완료 확인:**
1. 새 프로젝트(`amazing-biz-blog`) 선택
2. **"결제"** 메뉴에서 다음 정보 확인:
   - ✅ 결제 계정 이름 표시됨 (변경한 이름으로 표시됨)
   - ✅ 결제 계정 상태: "활성" 또는 "연결됨"
   - ✅ 결제 방법 표시됨 (신용카드 등)

**⚠️ 중요**: 
- Gemini API는 무료 할당량이 있지만, 초과 시 결제가 필요합니다.
- 할당량 초과 시 자동으로 결제 계정에서 청구됩니다.
- 사용량 모니터링을 위해 **"할당량"** 메뉴에서 경고를 설정하는 것을 권장합니다.

---

## 3. 필요한 API 활성화

### 3-1. API 라이브러리 접속

**방법 1: 메뉴를 통한 접속**
1. **새 프로젝트 선택 확인**
   - 상단 프로젝트 선택 드롭다운에서 `amazing-biz-blog` 선택되어 있는지 확인

2. **API 라이브러리 메뉴 접속**
   - 왼쪽 햄버거 메뉴(☰) 클릭
   - **"API 및 서비스"** 메뉴 확장
   - **"라이브러리"** 클릭

**방법 2: 직접 링크 접속**
- [API 라이브러리](https://console.cloud.google.com/apis/library) 링크 클릭
- 프로젝트가 자동으로 선택되어야 함

---

### 3-2. 다음 API들을 하나씩 활성화

**⚠️ 중요**: 각 API를 하나씩 순서대로 활성화하세요. 동시에 여러 개를 활성화하려고 하면 오류가 발생할 수 있습니다.

---

#### ✅ Generative Language API (Gemini) 활성화

**이 API는 Gemini AI를 사용하기 위해 필수입니다.**

1. **API 검색**
   - API 라이브러리 페이지 상단 검색창에 **"Generative Language API"** 입력
   - 또는 **"Gemini"** 검색해도 됨

2. **API 선택**
   - 검색 결과에서 **"Generative Language API"** 클릭
   - 설명: "Google의 생성형 AI 모델을 사용하여 텍스트 및 멀티모달 콘텐츠 생성"

3. **API 활성화**
   - 화면 상단 또는 중앙에 **"사용 설정"** 버튼 클릭
   - 또는 **"ENABLE"** 버튼 클릭

4. **활성화 대기**
   - "API를 사용 설정하는 중입니다..." 메시지 표시
   - 보통 10-30초 소요
   - 완료되면 "API가 사용 설정되었습니다" 메시지 표시

5. **활성화 확인**
   - 화면이 **"API 개요"** 페이지로 변경됨
   - 상단에 **"API 사용 설정됨"** 또는 **"ENABLED"** 표시 확인

---

#### ✅ Custom Search API 활성화

**이 API는 Google Custom Search를 사용하기 위해 필수입니다.**

1. **API 라이브러리로 돌아가기**
   - 왼쪽 메뉴에서 **"API 및 서비스"** → **"라이브러리"** 클릭
   - 또는 브라우저 뒤로가기

2. **API 검색**
   - 검색창에 **"Custom Search API"** 입력
   - 또는 **"Custom Search"** 검색

3. **API 선택**
   - 검색 결과에서 **"Custom Search API"** 클릭
   - 설명: "웹 검색 결과를 검색 엔진에 통합"

4. **API 활성화**
   - **"사용 설정"** 또는 **"ENABLE"** 버튼 클릭
   - 활성화 완료까지 대기 (10-30초)

---

#### ✅ Google Sheets API 활성화

**이 API는 Google Sheets에서 데이터를 읽기 위해 필수입니다.**

1. **API 라이브러리로 돌아가기**
   - 왼쪽 메뉴에서 **"API 및 서비스"** → **"라이브러리"** 클릭

2. **API 검색**
   - 검색창에 **"Google Sheets API"** 입력
   - 또는 **"Sheets API"** 검색

3. **API 선택**
   - 검색 결과에서 **"Google Sheets API"** 클릭
   - 설명: "Google 스프레드시트 읽기, 쓰기, 형식 지정"

4. **API 활성화**
   - **"사용 설정"** 또는 **"ENABLE"** 버튼 클릭
   - 활성화 완료까지 대기 (10-30초)

---

#### ✅ Google OAuth 2.0 (자동 활성화)

**이 API는 OAuth 클라이언트 생성 시 자동으로 활성화됩니다.**
- 별도로 활성화할 필요 없음
- 6단계(OAuth 클라이언트 설정)에서 자동 활성화됨

### 3-3. 활성화 확인
1. 왼쪽 메뉴에서 **"API 및 서비스"** → **"사용 설정된 API"** 클릭
2. 다음 API들이 표시되는지 확인:
   - ✅ Generative Language API
   - ✅ Custom Search API
   - ✅ Google Sheets API

**📌 중요: 다른 API는 활성화할 필요 없습니다!**

**이미지에 보이는 다른 API들 (활성화 불필요):**
- ❌ Analytics Hub API - 사용 안 함
- ❌ BigQuery 관련 API들 - 사용 안 함
- ❌ Cloud Storage 관련 API들 - 사용 안 함
- ❌ Cloud Logging API - 자동 활성화될 수 있음 (사용 안 함)
- ❌ Cloud Monitoring API - 자동 활성화될 수 있음 (사용 안 함)
- ❌ 기타 API들 - 모두 사용 안 함

**💡 팁:**
- 위 3개 API만 활성화하면 충분합니다
- 다른 API는 Google Cloud Console이 자동으로 활성화할 수 있지만, 사용하지 않으므로 무시해도 됩니다
- 불필요한 API를 비활성화하고 싶다면 "사용 설정된 API" 페이지에서 비활성화 가능

---

## 4. API 키 발급

### 4-1. Gemini API 키 발급

**이 키는 Gemini AI API 호출에 사용됩니다.**

#### 4-1-1. 사용자 인증 정보 페이지 접속
1. **새 프로젝트 선택 확인**
   - 상단 프로젝트 선택 드롭다운에서 `amazing-biz-blog` 선택 확인

2. **사용자 인증 정보 메뉴 접속**
   - 왼쪽 메뉴에서 **"API 및 서비스"** → **"사용자 인증 정보"** 클릭
   - 또는 직접 링크: https://console.cloud.google.com/apis/credentials

#### 4-1-2. API 키 생성

**API 키 만들기 다이얼로그가 열립니다. 다음 단계를 따라하세요:**

1. **"사용자 인증 정보 만들기" 버튼 클릭**
   - 화면 상단에 **"+ 사용자 인증 정보 만들기"** 버튼이 있음
   - 클릭하면 드롭다운 메뉴가 열림

2. **"API 키" 선택**
   - 드롭다운에서 **"API 키"** 선택
   - **"API 키 만들기"** 다이얼로그가 열림

3. **이름 입력 (선택사항이지만 권장)**
   - **"이름"** 필드에 의미 있는 이름 입력
   - 예: `amazing-biz-blog-gemini-key`, `Gemini API Key`, `메인-API-키` 등
   - **💡 이름의 중요성:**
     - ✅ **이름은 나중에 키를 구분하는 데 도움이 됩니다**
     - ✅ 여러 개의 키를 만들 때 어떤 키인지 쉽게 알 수 있습니다
     - ✅ 키 관리가 편해집니다
     - ⚠️ 이름을 입력하지 않으면 "API 키 1", "API 키 2" 같은 기본 이름이 자동으로 붙습니다
   - **권장**: `amazing-biz-blog` 또는 `Gemini-API-Key` 같은 명확한 이름 입력

4. **"서비스 계정을 통해 API 호출 인증" 체크박스**
   - **⚠️ 이 체크박스는 체크하지 마세요!**
   - **체크하지 않음 (기본값)**: 일반 API 키로 사용 (대부분의 경우)
   - **체크함**: 서비스 계정과 연결된 키 (Vertex AI 등 특수한 경우만 필요)
   - **💡 언제 체크해야 하나요?**
     - ✅ Vertex AI API를 사용하는 경우
     - ✅ 서비스 계정 인증이 필요한 특수한 경우
     - ❌ **일반 Gemini API 사용 시에는 체크하지 않습니다!**
   - **현재 상황**: Gemini API, Custom Search API, Sheets API를 사용하므로 **체크하지 않음**

5. **보안 제한사항 설정 (선택사항)**
   - **"애플리케이션 제한사항"**: 개발 중에는 **"없음"** 선택 (나중에 설정 가능)
   - **"API 제한사항"**: 개발 중에는 **"키 제한 안함"** 선택 (나중에 설정 가능)
   - ⚠️ 제한을 설정하면 보안이 강화되지만, 설정을 잘못하면 API 호출이 실패할 수 있습니다.
   - **💡 권장**: 처음에는 제한 없이 생성하고, 나중에 4-1-3에서 제한 설정

6. **"만들기" 버튼 클릭**
   - 화면 하단의 **"만들기"** 버튼 클릭
   - API 키가 생성됨

7. **API 키 복사**
   - 생성된 API 키가 팝업 창에 표시됨
   - 키는 `AIzaSy...`로 시작함
   - **⚠️ 중요**: 키가 자동으로 클립보드에 복사됨
   - 또는 키를 직접 선택하여 복사 (Ctrl+C)

8. **키 저장**
   - **메모장이나 텍스트 파일에 임시로 저장**
   - 나중에 `.env.local` 파일에 붙여넣을 예정
   - 예: `GEMINI_API_KEY=AIzaSyD...복사한_키...`

9. **팝업 닫기**
   - **"닫기"** 또는 **"X"** 버튼 클릭
   - 또는 팝업 외부 클릭

**📌 요약:**
- ✅ **이름**: 의미 있는 이름 입력 권장 (예: `amazing-biz-blog`)
- ❌ **서비스 계정 인증**: 체크하지 않음 (기본값 유지)
- ⚠️ **보안 제한**: 처음에는 제한 없이 생성, 나중에 설정 가능

#### 4-1-3. API 키 제한 설정 (보안 강화, 선택사항)

**⚠️ 보안을 위해 키 제한을 설정하는 것을 강력히 권장합니다!**

1. **생성된 API 키 찾기**
   - 사용자 인증 정보 페이지에서 방금 생성한 API 키 찾기
   - 키 이름이 "API 키 1" 또는 비슷한 이름으로 표시됨

2. **키 편집**
   - 키 이름 옆의 **연필 아이콘(✏️)** 클릭
   - 또는 키 이름을 클릭

3. **애플리케이션 제한사항 설정**
   - **"애플리케이션 제한사항"** 섹션에서:
     - **"HTTP 리퍼러(웹사이트)"** 선택
     - **"웹사이트 제한사항"**에 다음 추가:
       - 개발 환경: `http://localhost:3000/*`
       - 프로덕션 환경: `https://yourdomain.com/*` (실제 도메인으로 변경)
     - 또는 **"없음"** 선택 (개발 중에는 편의상)

4. **API 제한사항 설정**
   - **"API 제한사항"** 섹션에서:
     - **"키 제한"** 선택
     - **"제한할 API"** 드롭다운에서 다음 선택:
       - ✅ **Generative Language API** (Gemini용)
       - ✅ **Custom Search API** (검색용)
       - ✅ **Google Sheets API** (Sheets 읽기용)
     - 선택 후 **"확인"** 클릭

5. **저장**
   - 화면 하단의 **"저장"** 버튼 클릭
   - 변경사항이 저장됨

**💡 팁**: 
- 개발 중에는 제한을 설정하지 않아도 되지만, 프로덕션에서는 반드시 설정하세요.
- 제한을 설정하면 보안이 강화되지만, 설정을 잘못하면 API 호출이 실패할 수 있습니다.

### 4-2. Google API 키 발급 (Sheets, Custom Search용)

**📌 중요: 동일한 키를 사용해도 문제없습니다!**

**Q: GEMINI_API_KEY와 GOOGLE_API_KEY를 동일한 키로 사용해도 되나요?**
**A: 네, 완전히 문제없습니다!** 실제로 권장하는 방법입니다.

---

#### 🔍 왜 구분해서 사용했을까? (과거 설계 이유)

**과거에 구분했던 이유들:**
1. **보안 분리**: 하나의 키가 유출되어도 다른 API는 안전하게 유지
2. **사용량 추적**: 각 API별로 사용량을 별도로 추적하고 싶을 때
3. **제한 설정**: API별로 다른 제한사항을 설정하고 싶을 때
4. **관리 편의성**: 키를 분리하면 어떤 API에서 문제가 생겼는지 쉽게 파악

**하지만 실제로는:**
- ✅ **같은 Google Cloud API 키**이므로 동일한 키를 사용해도 됩니다
- ✅ **코드 로직상 문제없습니다** (각각 다른 환경 변수로 읽을 뿐)
- ✅ **대부분의 경우 하나의 키로 충분합니다**

---

#### 💡 권장 방법: 하나의 키 사용 (옵션 1)

**4-1에서 생성한 Gemini API 키를 그대로 사용하세요!**

**이유:**
1. ✅ **간단함**: 키 하나만 관리하면 됨
2. ✅ **비용 동일**: 같은 프로젝트의 키이므로 비용 차이 없음
3. ✅ **관리 편의**: 키 하나만 업데이트하면 됨
4. ✅ **코드 호환**: 현재 코드 로직과 완벽히 호환됨

**설정 방법:**
- `.env.local` 파일에서 `GOOGLE_API_KEY`에 `GEMINI_API_KEY`와 **동일한 값**을 입력
- 예:
  ```env
  GEMINI_API_KEY=AIzaSyD...키값...
  GOOGLE_API_KEY=AIzaSyD...동일한_키값...  # 같은 값!
  ```

**코드에서 사용되는 곳:**
- `GEMINI_API_KEY`: Gemini AI API 호출 (`app/api/generate`, `app/api/generate-qa` 등)
- `GOOGLE_API_KEY`: 
  - Google Sheets API (`lib/google-sheets.ts`)
  - Custom Search API (`lib/google-search.ts`)

**⚠️ 중요**: 
- 두 키가 동일한 값이어도 **환경 변수 이름은 그대로 유지**해야 합니다
- 코드에서 `process.env.GEMINI_API_KEY`와 `process.env.GOOGLE_API_KEY`를 각각 읽기 때문입니다

---

#### 옵션 1: 기존 Gemini API 키 재사용 (권장)

**4-1에서 생성한 Gemini API 키를 그대로 사용하세요!**
- `.env.local` 파일에서 `GOOGLE_API_KEY`에 `GEMINI_API_KEY`와 동일한 값을 입력하면 됩니다.
- 별도 키 생성 불필요

---

#### 옵션 2: 별도 API 키 생성 (보안 강화)

**보안을 위해 별도 키를 만들고 싶은 경우에만 진행하세요.**

1. **사용자 인증 정보 페이지 접속**
   - 왼쪽 메뉴에서 **"API 및 서비스"** → **"사용자 인증 정보"** 클릭

2. **새 API 키 생성**
   - **"+ 사용자 인증 정보 만들기"** → **"API 키"** 선택
   - 키가 생성됨

3. **키 복사 및 저장**
   - 생성된 키를 복사하여 메모장에 저장
   - 예: `GOOGLE_API_KEY=AIzaSy...새로운_키...`

4. **키 이름 변경 (선택사항)**
   - 키 이름 옆 연필 아이콘 클릭
   - **"이름"** 필드에 `Google API Key (Sheets & Search)` 입력
   - **"저장"** 클릭

5. **API 제한사항 설정**
   - 키 편집 (연필 아이콘)
   - **"API 제한사항"** → **"키 제한"** 선택
   - **"제한할 API"**에서 다음만 선택:
     - ✅ **Custom Search API**
     - ✅ **Google Sheets API**
   - ⚠️ **Generative Language API는 선택하지 마세요!** (Gemini 키와 분리하기 위해)
   - **"저장"** 클릭

**💡 최종 권장사항**: 
- **대부분의 경우: 옵션 1 (하나의 키 사용) 권장** ✅
- 개발 중: **옵션 1 (하나의 키 사용)** 권장
- 프로덕션: 보안이 매우 중요하고 API별로 사용량을 엄격히 분리해야 하는 경우에만 **옵션 2 (별도 키)** 고려

**📌 결론:**
- **동일한 키를 사용해도 로직상 전혀 문제없습니다!**
- 하나의 키로 모든 API (Gemini, Custom Search, Sheets)를 사용할 수 있습니다
- 과거에 구분했던 이유는 보안/관리 편의성이었지만, 실제로는 하나로 충분합니다

---

## 5. Custom Search Engine 설정

### 5-1. Custom Search Engine 설정

**이 검색 엔진은 Google Custom Search API에서 사용됩니다.**

**💡 중요**: 기존에 Custom Search Engine이 있다면 **새로 만들 필요 없이 기존 것을 사용**하면 됩니다!

---

#### 5-1-1. Custom Search Engine 페이지 접속
1. 브라우저에서 [Google Custom Search Engine](https://programmablesearchengine.google.com/controlpanel/create) 접속
2. Google 계정으로 로그인 (필요한 경우)
3. 기존 검색 엔진이 있다면 목록이 표시됨

---

#### 5-1-2. 기존 검색 엔진 사용 (권장)

**기존 검색 엔진이 있다면 이 방법을 사용하세요!**

1. **기존 검색 엔진 확인**
   - Custom Search Engine 페이지에 접속하면 기존 검색 엔진 목록이 표시됨
   - 예: `blog-ai-search`, `my-search-engine` 등

2. **기존 검색 엔진 선택**
   - 사용하고 싶은 기존 검색 엔진 클릭
   - 또는 검색 엔진 이름 클릭

3. **검색 엔진 ID 확인**
   - 검색 엔진 설정 페이지에서 **"검색 엔진 ID"** 확인
   - 5-2 섹션으로 이동하여 ID 복사

**✅ 완료!** 기존 검색 엔진을 사용하면 새로 만들 필요가 없습니다.

**💡 기존 검색 엔진을 사용하는 이유:**
- ✅ 이미 설정되어 있어서 바로 사용 가능
- ✅ 할당량이 이미 설정되어 있음
- ✅ 불필요한 중복 생성 방지
- ✅ 관리가 간단함

---

#### 5-1-3. 새 검색 엔진 생성 (기존 것이 없을 때만)

**⚠️ 기존 검색 엔진이 없을 때만 이 방법을 사용하세요!**

1. **"새 검색 엔진 추가" 버튼 클릭**
   - 화면 상단 또는 중앙에 있는 버튼 클릭
   - 또는 **"Add"** 버튼 클릭

2. **검색 엔진 정보 입력**
   - **"검색할 사이트"** 필드:
     - 전체 웹 검색: `*` 입력 (별표 하나)
     - 특정 사이트만: `example.com` 입력 (예시)
     - **권장**: `*` (전체 웹 검색)
   
   - **"언어"** 드롭다운:
     - **"한국어"** 선택
     - 또는 **"Korean"** 선택
   
   - **"이름"** 필드:
     - `amazing-biz-blog-search` 입력
     - 또는 원하는 이름 입력 (예: `blog-search-engine`)

3. **"만들기" 또는 "Create" 버튼 클릭**
   - 화면 하단의 버튼 클릭
   - 검색 엔진이 생성됨

4. **생성 완료 확인**
   - 검색 엔진 목록에 새로 생성된 엔진이 표시됨
   - 이름이 `amazing-biz-blog-search`로 표시됨

---

### 5-2. 검색 엔진 ID 복사

**이 ID는 `.env.local` 파일의 `GOOGLE_CUSTOM_SEARCH_ENGINE_ID`에 사용됩니다.**

#### 5-2-1. 검색 엔진 설정 페이지 접속
1. **검색 엔진 선택**
   - **기존 검색 엔진 사용 시**: 기존 검색 엔진 목록에서 사용할 엔진 클릭
   - **새 검색 엔진 생성 시**: 검색 엔진 목록에서 `amazing-biz-blog-search` 클릭
   - 또는 검색 엔진 이름 클릭

2. **설정 메뉴 접속**
   - 화면 상단 또는 왼쪽에 **"설정"** 또는 **"Setup"** 탭 클릭
   - 또는 **"기본"** 또는 **"Basics"** 탭 클릭

#### 5-2-2. 검색 엔진 ID 찾기 및 복사
1. **"검색 엔진 ID" 찾기**
   - 설정 페이지에서 **"검색 엔진 ID"** 또는 **"Search engine ID"** 섹션 찾기
   - ID는 `e291b614...` 같은 형식 (약 30자 정도)

2. **ID 복사**
   - ID를 선택하여 복사 (Ctrl+C)
   - 또는 ID 옆의 복사 버튼 클릭 (있는 경우)

3. **ID 저장**
   - 메모장이나 텍스트 파일에 저장
   - 예: `GOOGLE_CUSTOM_SEARCH_ENGINE_ID=e291b614...복사한_ID...`
   - 나중에 `.env.local` 파일에 붙여넣을 예정

**⚠️ 중요**: 
- 검색 엔진 ID는 나중에 다시 확인할 수 있지만, 지금 복사해두는 것이 편리합니다.
- ID를 잃어버리면 검색 엔진 설정 페이지에서 다시 확인할 수 있습니다.

### 5-3. 고급 설정 (선택사항)
1. **"설정"** → **"고급"** 탭
2. **"이미지 검색"** 활성화 (필요한 경우)
3. **"안전 검색"** 설정 (필요한 경우)
4. **"저장"** 클릭

---

## 6. OAuth 클라이언트 설정

### 6-1. OAuth 동의 화면 설정

**⚠️ 중요: OAuth는 선택사항입니다!**

**Q: OAuth 설정이 꼭 필요한가요?**
**A: 아니요! 현재 프로젝트에서는 선택사항입니다.**

**OAuth가 필요한 경우:**
- ✅ Google Sheets에 **쓰기** 권한이 필요한 경우 (스크립트에서 데이터 업로드)
- ✅ Google 로그인 기능을 사용하는 경우
- ❌ **현재 프로젝트**: 로그인은 Supabase를 사용하므로 OAuth 불필요
- ❌ **현재 프로젝트**: Google Sheets는 읽기만 하므로 OAuth 불필요

**💡 결론:**
- **OAuth를 사용하지 않는다면 이 섹션(6-1, 6-2)을 건너뛰어도 됩니다!**
- Google Sheets 쓰기나 Google 로그인을 나중에 추가할 계획이 있다면 설정하세요.

#### 6-1-1. OAuth 동의 화면 페이지 접속
1. **새 프로젝트 선택 확인**
   - [Google Cloud Console](https://console.cloud.google.com) 접속
   - 상단 프로젝트 선택 드롭다운에서 `amazing-biz-blog` 선택 확인

2. **OAuth 동의 화면 메뉴 접속**
   - 왼쪽 메뉴에서 **"API 및 서비스"** → **"OAuth 동의 화면"** 클릭
   - 또는 직접 링크: https://console.cloud.google.com/apis/credentials/consent

#### 6-1-2. 사용자 유형 선택

**📌 중요: "외부"를 선택해야 합니다!**

**Q: 왜 "외부"를 선택해야 하나요?**
**A: 일반 사용자(누구나)가 사용하는 애플리케이션이기 때문입니다!**

**"외부" vs "내부" 차이:**

| 구분 | 외부 | 내부 |
|------|------|------|
| **대상 사용자** | 일반 사용자 (누구나) | Google Workspace 조직 내부 사용자만 |
| **사용 예시** | 블로그, 공개 웹사이트, 일반 앱 | 회사 내부 시스템, 조직 전용 앱 |
| **승인 필요** | Google 검토 필요 (공개 앱) | 조직 관리자 승인만 필요 |
| **현재 프로젝트** | ✅ **외부 선택** | ❌ 내부 아님 |

**현재 상황:**
- ✅ **"외부" 선택**: `amazing-biz-blog`는 일반 사용자가 사용하는 공개 애플리케이션
- ✅ 누구나 접근 가능한 웹사이트/블로그
- ✅ Google 계정이 있는 모든 사용자가 로그인 가능

**"내부"를 선택하는 경우:**
- ❌ Google Workspace 조직 내부에서만 사용하는 경우
- ❌ 회사 직원만 사용하는 내부 시스템
- ❌ 현재 프로젝트와는 맞지 않음

---

**설정 방법:**
1. **"외부" 선택**
   - 화면에서 **"외부"** 또는 **"External"** 라디오 버튼 선택
   - ⚠️ **"내부"는 선택하지 마세요!**

2. **"만들기" 버튼 클릭**
   - 화면 하단의 **"만들기"** 또는 **"CREATE"** 버튼 클릭
   - OAuth 동의 화면 설정이 시작됨

#### 6-1-3. 앱 정보 입력
1. **앱 정보 섹션 입력**
   - **"앱 이름"**: `Amazing Biz Blog` (또는 원하는 이름)
   - **"사용자 지원 이메일"**: 본인 이메일 주소 입력
   - **"앱 로고"**: 선택사항 (나중에 추가 가능)
   - **"앱 도메인"**: 선택사항 (예: `yourdomain.com`)
   - **"앱 홈페이지"**: 선택사항
   - **"개발자 연락처 정보"**: 본인 이메일 주소 입력

2. **"저장 후 계속" 버튼 클릭**
   - 화면 하단의 **"저장 후 계속"** 또는 **"SAVE AND CONTINUE"** 클릭

#### 6-1-4. 범위(Scopes) 설정

**📌 범위란?**: OAuth로 접근할 수 있는 Google 서비스 권한입니다.

**Q: 모든 범위를 다 추가해야 하나요?**
**A: 아니요! 실제로 사용하는 범위만 추가하세요.**

**필요한 범위만 선택:**

**옵션 1: Google Sheets 쓰기만 필요한 경우**
- ✅ `https://www.googleapis.com/auth/spreadsheets` (Sheets 읽기/쓰기)
- ❌ 다른 범위는 불필요

**옵션 2: Google 로그인 기능이 필요한 경우**
- ✅ `https://www.googleapis.com/auth/userinfo.email` (이메일 정보)
- ✅ `https://www.googleapis.com/auth/userinfo.profile` (프로필 정보)
- ❌ Sheets 범위는 불필요 (로그인만 사용하는 경우)

**옵션 3: 둘 다 필요한 경우**
- ✅ 위의 모든 범위 추가

**💡 현재 프로젝트:**
- 대부분의 경우 **범위를 추가하지 않아도 됩니다** (OAuth를 사용하지 않으므로)
- 나중에 Google Sheets 쓰기나 Google 로그인을 추가할 때 필요한 범위만 추가하면 됩니다

---

**설정 방법 (필요한 경우만):**

1. **"범위 추가 또는 삭제" 클릭**
   - **"범위"** 단계에서 **"범위 추가 또는 삭제"** 또는 **"ADD OR REMOVE SCOPES"** 버튼 클릭

2. **필요한 범위만 선택**
   - 실제로 사용할 범위만 체크박스 선택
   - 예: Google Sheets 쓰기만 필요하면 `spreadsheets` 범위만 선택
   - ⚠️ **불필요한 범위는 추가하지 마세요!** (보안상 좋지 않음)

3. **"업데이트" 버튼 클릭**
   - 선택한 범위를 추가한 후 **"업데이트"** 버튼 클릭

4. **"저장 후 계속" 버튼 클릭**
   - 화면 하단의 **"저장 후 계속"** 클릭

#### 6-1-5. 테스트 사용자 추가

**📌 테스트 사용자란?**: OAuth 앱이 "테스트" 상태일 때 로그인할 수 있는 사용자 목록입니다.

**Q: 테스트 사용자를 추가해야 다른 사람이 쓸 수 있나요?**
**A: 아니요! 반대입니다.**

**"테스트 사용자"의 의미:**
- ✅ **테스트 사용자만** OAuth 앱을 사용할 수 있음 (제한적)
- ❌ 테스트 사용자가 아니면 로그인 불가
- ⚠️ **"외부" 앱은 기본적으로 "테스트" 상태**입니다

**다른 사람이 사용하려면:**
1. **테스트 사용자 추가** (현재 단계): 본인과 테스트할 사람들만 추가
2. **나중에 Google 검토 요청**: 앱을 공개하려면 Google 검토를 받아야 함
3. **검토 통과 후**: 누구나 사용 가능

**💡 현재 상황:**
- OAuth를 사용하지 않는다면 이 단계를 건너뛰어도 됩니다
- OAuth를 사용한다면 본인 이메일만 추가하면 됩니다 (개발/테스트용)

---

**설정 방법 (OAuth를 사용하는 경우만):**

1. **"+ 추가" 버튼 클릭**
   - **"테스트 사용자"** 단계에서 **"+ 추가"** 또는 **"ADD USERS"** 버튼 클릭

2. **본인 이메일 추가**
   - 본인 Google 계정 이메일 주소 입력
   - 예: `your-email@gmail.com`
   - **"추가"** 또는 **"ADD"** 버튼 클릭
   - ⚠️ **테스트 사용자로 추가된 이메일만 OAuth 로그인 가능**

3. **"저장 후 계속" 버튼 클릭**
   - 화면 하단의 **"저장 후 계속"** 클릭

**💡 나중에 공개하려면:**
- OAuth 동의 화면에서 **"앱 게시"** 또는 **"PUBLISH APP"** 버튼 클릭
- Google 검토를 받아야 함 (보통 며칠 소요)
- 검토 통과 후 누구나 사용 가능

#### 6-1-6. 요약 확인 및 완료
1. **요약 페이지 확인**
   - 입력한 정보가 올바른지 확인
   - 앱 이름, 이메일, 범위 등 확인

2. **"대시보드로 돌아가기" 클릭**
   - 화면 하단의 **"대시보드로 돌아가기"** 또는 **"BACK TO DASHBOARD"** 클릭
   - OAuth 동의 화면 설정 완료

### 6-2. OAuth 클라이언트 ID 생성

**이 클라이언트 ID는 Google 로그인 기능에 사용됩니다.**

#### 6-2-1. 사용자 인증 정보 페이지 접속
1. **새 프로젝트 선택 확인**
   - 상단 프로젝트 선택 드롭다운에서 `amazing-biz-blog` 선택 확인

2. **사용자 인증 정보 메뉴 접속**
   - 왼쪽 메뉴에서 **"API 및 서비스"** → **"사용자 인증 정보"** 클릭
   - 또는 직접 링크: https://console.cloud.google.com/apis/credentials

#### 6-2-2. OAuth 클라이언트 ID 생성
1. **"사용자 인증 정보 만들기" 버튼 클릭**
   - 화면 상단의 **"+ 사용자 인증 정보 만들기"** 버튼 클릭
   - 드롭다운 메뉴가 열림

2. **"OAuth 클라이언트 ID" 선택**
   - 드롭다운에서 **"OAuth 클라이언트 ID"** 선택
   - OAuth 클라이언트 생성 화면이 열림

3. **애플리케이션 유형 선택**
   - **"애플리케이션 유형"** 드롭다운에서 **"웹 애플리케이션"** 선택
   - ⚠️ 다른 유형(Android, iOS 등)은 선택하지 마세요

4. **이름 입력**
   - **"이름"** 필드에 `amazing-biz-blog-oauth` 입력
   - 또는 원하는 이름 입력 (예: `blog-oauth-client`)

#### 6-2-3. 승인된 리디렉션 URI 추가

**📌 리디렉션 URI란?**: OAuth 로그인 후 사용자를 돌려보낼 주소입니다.

1. **"승인된 리디렉션 URI" 섹션 찾기**
   - 화면 하단에 **"승인된 리디렉션 URI"** 또는 **"Authorized redirect URIs"** 섹션 있음

2. **개발 환경 URI 추가**
   - 첫 번째 필드에 입력: `http://localhost:3000/api/auth/callback/google`
   - ⚠️ 정확히 입력하세요 (대소문자 구분, 슬래시 포함)
   - 이미 입력되어 있을 수 있음

3. **프로덕션 환경 URI 추가 (있는 경우)**
   - **"+ URI 추가"** 버튼 클릭
   - 두 번째 필드에 프로덕션 URI 입력

---

**💡 프로덕션 URI 입력 방법:**

**일반 도메인 (영문)인 경우:**
```
https://yourdomain.com/api/auth/callback/google
```
- 예: `https://amazing-biz-blog.vercel.app/api/auth/callback/google`
- 예: `https://blog.example.com/api/auth/callback/google`

**한글 도메인인 경우 (예: `blog.어메이징사업부.com`):**

**방법 1: 한글 도메인 그대로 사용 (권장)**
```
https://blog.어메이징사업부.com/api/auth/callback/google
```
- 브라우저에서 실제로 사용하는 도메인을 그대로 입력
- 대부분의 경우 이 방법이 작동함

**방법 2: 퓨니코드로 변환 (방법 1이 안 될 때만)**
- 한글 도메인을 퓨니코드로 변환
- `어메이징사업부.com` → `xn--bj0b6a3b1a8b.com` (예시, 실제 변환값은 다를 수 있음)
- 변환된 URI: `https://blog.xn--bj0b6a3b1a8b.com/api/auth/callback/google`

**퓨니코드 변환 방법:**
1. 온라인 퓨니코드 변환기 사용 (예: `punycode-converter.com`)
2. 또는 브라우저 주소창에서 한글 도메인 입력 후 엔터 → 주소창에 퓨니코드로 표시됨
3. 표시된 퓨니코드 도메인을 복사하여 사용

**⚠️ 중요:**
- **먼저 한글 도메인 그대로 입력해보세요** (대부분 작동함)
- 작동하지 않으면 퓨니코드로 변환하여 시도
- 실제 브라우저에서 사용하는 도메인 형식을 사용하는 것이 가장 안전함

**예시 (사용자 상황):**
```
https://blog.어메이징사업부.com/api/auth/callback/google
```
또는 (퓨니코드 변환이 필요한 경우)
```
https://blog.xn--bj0b6a3b1a8b.com/api/auth/callback/google
```

**💡 권장: 두 가지 버전 모두 추가 (더 안전함)**
- URI 2: `https://blog.어메이징사업부.com/api/auth/callback/google` (한글 도메인)
- URI 3: `https://blog.xn--bj0b6a3b1a8b.com/api/auth/callback/google` (퓨니코드 버전)
- 이렇게 하면 어떤 버전이든 작동합니다!
- ⚠️ **주의**: 퓨니코드 값(`xn--bj0b6a3b1a8b`)은 예시입니다. 실제 도메인의 퓨니코드 값을 사용하세요.

4. **URI 확인**
   - 입력한 URI가 올바른지 확인
   - 오타가 있으면 나중에 로그인이 실패할 수 있습니다
   - ⚠️ **프로토콜(`https://`)과 경로(`/api/auth/callback/google`)가 정확한지 확인**

**💡 팁:**
- 여러 프로덕션 환경이 있다면 각각 추가 가능
- 예: Vercel, Netlify 등 여러 배포 환경
- **한글 도메인과 퓨니코드 버전을 모두 추가하는 것을 권장** (더 안전함)
  - 한글 도메인 버전이 작동하지 않을 경우를 대비
  - 브라우저나 시스템에 따라 다른 형식을 사용할 수 있음

#### 6-2-4. 클라이언트 ID 생성 및 저장
1. **"만들기" 버튼 클릭**
   - 화면 하단의 **"만들기"** 또는 **"CREATE"** 버튼 클릭
   - 클라이언트 ID가 생성됨

2. **클라이언트 ID 복사**
   - 팝업 창에 **"클라이언트 ID"**가 표시됨
   - ID는 `228703135740-...` 같은 형식
   - ID를 선택하여 복사 (Ctrl+C)
   - 메모장에 저장: `GOOGLE_OAUTH_CLIENT_ID=228703135740-...복사한_ID...`

3. **클라이언트 보안 비밀번호 복사**
   - **⚠️ 매우 중요**: **"클라이언트 보안 비밀번호"**는 **한 번만 표시됩니다!**
   - 비밀번호는 `GOCSPX-...` 같은 형식
   - 비밀번호를 선택하여 복사 (Ctrl+C)
   - 메모장에 저장: `GOOGLE_OAUTH_CLIENT_SECRET=GOCSPX-...복사한_비밀번호...`
   - ⚠️ **지금 복사하지 않으면 나중에 다시 생성해야 합니다!**

4. **팝업 닫기**
   - **"확인"** 또는 **"OK"** 버튼 클릭
   - 팝업이 닫히고 사용자 인증 정보 목록에 새 클라이언트가 표시됨

**💡 팁**: 
- 클라이언트 보안 비밀번호를 잃어버렸다면, 클라이언트를 삭제하고 다시 생성해야 합니다.
- 클라이언트 ID는 나중에 사용자 인증 정보 페이지에서 다시 확인할 수 있습니다.

---

## 7. 환경 변수 업데이트

### 7-1. .env.local 파일 열기

1. **프로젝트 루트 디렉토리로 이동**
   - 파일 탐색기에서 `C:\Users\ok\amazing-biz-blog` 폴더 열기
   - 또는 VS Code에서 프로젝트 열기

2. **.env.local 파일 찾기**
   - 프로젝트 루트에 `.env.local` 파일이 있음
   - 보이지 않으면 숨김 파일 표시 설정 확인

3. **파일 열기**
   - VS Code나 메모장으로 `.env.local` 파일 열기
   - ⚠️ **백업 권장**: 수정 전에 `.env.local.backup` 같은 이름으로 복사본 만들기

---

### 7-2. 환경 변수 값 업데이트

**⚠️ 중요**: 각 값을 하나씩 신중하게 교체하세요. 오타가 있으면 애플리케이션이 작동하지 않습니다.

#### 7-2-1. Gemini API 키 업데이트
1. **기존 `GEMINI_API_KEY` 찾기**
   - 파일에서 `GEMINI_API_KEY=` 라인 찾기

2. **새 키로 교체**
   - 기존 키 값(등호 뒤)을 4-1에서 복사한 새 키로 교체
   - 예: `GEMINI_API_KEY=AIzaSyD...새로운_키...`
   - ⚠️ 등호(`=`) 뒤에 공백 없이 바로 키 입력

#### 7-2-2. Google API 키 업데이트
1. **기존 `GOOGLE_API_KEY` 찾기**
   - 파일에서 `GOOGLE_API_KEY=` 라인 찾기

2. **새 키로 교체**
   - **옵션 1**: Gemini API 키와 동일한 값 사용 (권장)
     - `GOOGLE_API_KEY=AIzaSyD...` (GEMINI_API_KEY와 동일한 값)
   - **옵션 2**: 4-2에서 생성한 별도 키 사용
     - `GOOGLE_API_KEY=AIzaSyD...별도_키...`

#### 7-2-3. Custom Search Engine ID 업데이트
1. **기존 `GOOGLE_CUSTOM_SEARCH_ENGINE_ID` 찾기**
   - 파일에서 `GOOGLE_CUSTOM_SEARCH_ENGINE_ID=` 라인 찾기

2. **새 ID로 교체**
   - 기존 ID 값을 5-2에서 복사한 새 ID로 교체
   - 예: `GOOGLE_CUSTOM_SEARCH_ENGINE_ID=e291b614...새로운_ID...`

#### 7-2-4. OAuth 클라이언트 정보 업데이트
1. **기존 `GOOGLE_OAUTH_CLIENT_ID` 찾기**
   - 파일에서 `GOOGLE_OAUTH_CLIENT_ID=` 라인 찾기

2. **새 클라이언트 ID로 교체**
   - 기존 ID 값을 6-2에서 복사한 새 ID로 교체
   - 예: `GOOGLE_OAUTH_CLIENT_ID=228703135740-...새로운_ID...`

3. **기존 `GOOGLE_OAUTH_CLIENT_SECRET` 찾기**
   - 파일에서 `GOOGLE_OAUTH_CLIENT_SECRET=` 라인 찾기

4. **새 클라이언트 보안 비밀번호로 교체**
   - 기존 비밀번호 값을 6-2에서 복사한 새 비밀번호로 교체
   - 예: `GOOGLE_OAUTH_CLIENT_SECRET=GOCSPX-...새로운_비밀번호...`
   - ⚠️ **비밀번호는 한 번만 표시되므로 정확히 복사했는지 확인**

#### 7-2-5. 변경하지 않을 값들 확인
다음 값들은 **변경하지 않아도 됩니다** (프로젝트와 무관):

```env
# Google Sheets ID (변경 불필요)
GOOGLE_SHEETS_ID=1xLGmNw8JfgGk2Y01WAsSQ

# Supabase 관련 (변경 불필요)
NEXT_PUBLIC_SUPABASE_URL=https://...
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGci...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGci...
```

#### 7-2-6. 최종 확인
업데이트 후 파일 내용 예시:

```env
# Gemini API 키 (4-1에서 발급)
GEMINI_API_KEY=AIzaSyD...새로운_키...

# Google API 키 (4-2에서 발급 또는 GEMINI_API_KEY와 동일)
GOOGLE_API_KEY=AIzaSyD...새로운_키...

# Google Sheets ID (기존 값 유지)
GOOGLE_SHEETS_ID=1xLGmNw8JfgGk2Y01WAsSQ

# Custom Search Engine ID (5-2에서 발급)
GOOGLE_CUSTOM_SEARCH_ENGINE_ID=e291b614...새로운_ID...

# OAuth 클라이언트 ID (6-2에서 발급)
GOOGLE_OAUTH_CLIENT_ID=228703135740-...새로운_ID...

# OAuth 클라이언트 보안 비밀번호 (6-2에서 발급)
GOOGLE_OAUTH_CLIENT_SECRET=GOCSPX-...새로운_비밀번호...

# Supabase 관련 (변경 불필요)
NEXT_PUBLIC_SUPABASE_URL=https://...
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGci...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGci...
```

**⚠️ 확인사항**:
- ✅ 모든 키/ID 값에 공백이나 줄바꿈이 없는지 확인
- ✅ 등호(`=`) 앞뒤에 공백이 없는지 확인
- ✅ 따옴표(`"` 또는 `'`)로 감싸지 않았는지 확인
- ✅ 파일 저장 확인 (Ctrl+S)

---

### 7-3. 서버 재시작

**환경 변수 변경 후 반드시 서버를 재시작해야 합니다!**

1. **개발 서버 중지 (실행 중인 경우)**
   - 터미널에서 `Ctrl+C` 눌러서 서버 중지

2. **개발 서버 재시작**
   ```bash
   npm run dev
   ```
   - 또는 VS Code 터미널에서 실행

3. **서버 시작 확인**
   - 터미널에 `Ready` 메시지 표시 확인
   - `http://localhost:3000` 접속 가능한지 확인

4. **오류 확인**
   - 터미널에 API 키 관련 오류가 없는지 확인
   - 오류가 있으면 `.env.local` 파일의 값들을 다시 확인

---

## 8. 기존 프로젝트 삭제

### 8-1. 삭제 전 확인사항
**⚠️ 중요**: 다음을 모두 확인한 후 삭제하세요:
- ✅ 새 프로젝트에서 모든 API 활성화 완료
- ✅ 모든 API 키 발급 완료
- ✅ Custom Search Engine 재설정 완료
- ✅ OAuth 클라이언트 재설정 완료
- ✅ `.env.local` 파일 업데이트 완료
- ✅ 새 키로 테스트 완료 (애플리케이션 정상 작동 확인)

### 8-2. 프로젝트 삭제

**⚠️ 매우 중요**: 프로젝트 삭제는 되돌릴 수 없습니다! 삭제 전에 모든 데이터를 백업했는지 확인하세요.

---

#### 8-2-1. 일반 프로젝트 삭제 방법

1. **Google Cloud Console 접속**
   - [Google Cloud Console](https://console.cloud.google.com) 접속

2. **프로젝트 선택 드롭다운 열기**
   - 상단 중앙의 프로젝트 선택 드롭다운 클릭
   - 모든 프로젝트 목록이 표시됨

3. **삭제할 프로젝트 찾기**
   - 삭제할 프로젝트를 목록에서 찾기
   - 예: `Default Gemini Project`, `blog-ai-search` 등

4. **프로젝트 삭제 시작**
   - 삭제할 프로젝트 옆의 **"⋮"** (점 3개) 메뉴 클릭
   - 또는 프로젝트를 선택한 후 **"삭제"** 버튼 클릭

5. **삭제 확인**
   - 삭제 확인 대화상자가 나타남
   - **프로젝트 ID를 정확히 입력**하여 확인
   - 예: `default-gemini-project-123456`
   - **"삭제"** 또는 **"DELETE"** 버튼 클릭

6. **삭제 완료 대기**
   - 삭제 중 메시지 표시
   - 보통 몇 분 소요 (프로젝트 크기에 따라 다름)
   - 삭제 완료 알림 확인

---

#### 8-2-2. 조직 내 프로젝트 삭제 방법

**조직(`ksmic333-org`)에 속한 프로젝트를 삭제하는 경우:**

1. **조직 관리 페이지 접속 (선택사항)**
   - [조직 관리](https://console.cloud.google.com/cloud-resource-manager) 접속
   - 조직 내 모든 프로젝트를 한눈에 볼 수 있음

2. **프로젝트 선택**
   - 삭제할 프로젝트 클릭
   - 예: `Default Gemini Project`, `blog-ai-search` 등

3. **프로젝트 삭제**
   - 위의 **8-2-1 방법**과 동일하게 삭제
   - 조직에 속해 있어도 삭제 방법은 동일함

4. **조직에서 제거 확인**
   - 삭제 후 조직 관리 페이지에서 프로젝트가 목록에서 사라짐

**💡 팁**: 
- 조직 내 모든 프로젝트를 한 번에 확인하려면 조직 관리 페이지를 사용하세요.
- 프로젝트를 삭제해도 조직(`ksmic333-org`)은 그대로 유지됩니다.

---

#### 8-2-3. 여러 프로젝트 일괄 삭제

**여러 프로젝트를 한 번에 삭제하고 싶은 경우:**

1. **프로젝트 목록 확인**
   - 상단 프로젝트 선택 드롭다운에서 모든 프로젝트 목록 확인
   - 삭제할 프로젝트 목록 작성:
     - `Default Gemini Project`
     - `blog-ai-search`
     - 기타 불필요한 프로젝트들

2. **하나씩 순서대로 삭제**
   - ⚠️ **동시에 여러 개를 삭제할 수 없습니다!**
   - 하나씩 삭제해야 합니다
   - 각 프로젝트 삭제 후 다음 프로젝트 삭제

3. **삭제 순서 권장**
   - 먼저 **사용하지 않는 프로젝트** 삭제
   - 그 다음 **테스트 프로젝트** 삭제
   - 마지막에 **중요한 프로젝트** 삭제 (신중하게)

---

#### 8-2-4. 삭제 전 최종 체크리스트

**각 프로젝트를 삭제하기 전에 확인:**

- [ ] **새 프로젝트(`amazing-biz-blog`)에서 모든 설정 완료**
  - API 활성화 완료
  - API 키 발급 완료
  - 환경 변수 업데이트 완료
  - 애플리케이션 정상 작동 확인

- [ ] **중요한 데이터 백업**
  - 데이터베이스 백업 (있는 경우)
  - 설정 파일 백업
  - API 키 백업 (새 프로젝트에 이미 복사했는지 확인)

- [ ] **연결된 서비스 확인**
  - Vercel, Netlify 등 배포 서비스 연결 해제 (있는 경우)
  - 외부 서비스에서 프로젝트 참조 제거

- [ ] **결제 계정 연결 해제 (선택사항)**
  - 프로젝트 삭제 시 자동으로 해제되지만, 미리 해제해도 됨

---

#### 8-2-5. 삭제 후 확인

1. **프로젝트 목록 확인**
   - 프로젝트 선택 드롭다운에서 삭제한 프로젝트가 목록에서 사라졌는지 확인
   - 남아있는 프로젝트: `amazing-biz-blog` (새 프로젝트)만 남아있어야 함

2. **결제 계정 확인**
   - 결제 메뉴에서 결제 계정이 정상적으로 연결되어 있는지 확인
   - 삭제한 프로젝트와 연결이 자동으로 해제되었는지 확인

3. **애플리케이션 테스트**
   - 새 프로젝트로 애플리케이션이 정상 작동하는지 최종 테스트
   - 모든 기능이 정상인지 확인

---

### 8-3. 삭제할 프로젝트 목록 예시

**일반적으로 삭제할 프로젝트들:**

- ✅ `Default Gemini Project` (기본 프로젝트, 불필요)
- ✅ `blog-ai-search` (기존 프로젝트, 새 프로젝트로 통합)
- ✅ `My First Project` (테스트 프로젝트, 불필요)
- ✅ 기타 사용하지 않는 프로젝트들

**⚠️ 삭제하지 말아야 할 프로젝트:**

- ❌ `amazing-biz-blog` (새로 만든 통합 프로젝트)
- ❌ 중요한 데이터가 있는 프로젝트
- ❌ 다른 사람과 공유 중인 프로젝트

---

### 8-4. 프로젝트 삭제 후 복구 (30일 이내)

**⚠️ 주의**: 삭제 후 30일 이내에만 복구 가능합니다!

1. **삭제된 프로젝트 복구 페이지 접속**
   - [삭제된 프로젝트 복구](https://console.cloud.google.com/iam-admin/projects?deleted=true) 접속

2. **복구할 프로젝트 선택**
   - 삭제된 프로젝트 목록에서 복구할 프로젝트 찾기
   - 프로젝트 클릭

3. **프로젝트 복구**
   - **"복구"** 또는 **"RESTORE"** 버튼 클릭
   - 복구 완료까지 대기

**💡 팁**: 
- 30일이 지나면 복구할 수 없습니다.
- 삭제 전에 신중하게 결정하세요.

---

### 8-5. 조직 삭제 및 프로젝트 정리 (프로젝트 한 개만 보이게)

**목표**: 조직(`ksmic333-org`)을 삭제하고 `amazing-biz-blog` 프로젝트만 남기기

**⚠️ 매우 중요**: 조직 삭제는 복잡하고 되돌릴 수 없습니다!

---

#### 8-5-1. 조직 삭제 전 준비사항

**다음 순서로 진행하세요:**

1. ✅ **새 프로젝트(`amazing-biz-blog`) 생성 완료**
2. ✅ **모든 설정 완료** (API 활성화, 키 발급 등)
3. ✅ **애플리케이션 정상 작동 확인**
4. ✅ **조직 내 모든 불필요한 프로젝트 삭제**

---

#### 8-5-2. 조직 내 모든 프로젝트 삭제

**조직(`ksmic333-org`)에 속한 모든 프로젝트를 먼저 삭제해야 합니다.**

**방법 1: 프로젝트 선택 드롭다운에서 확인 (가장 간단)**

1. **Google Cloud Console 접속**
   - [Google Cloud Console](https://console.cloud.google.com) 접속

2. **프로젝트 선택 드롭다운 열기**
   - 상단 중앙의 프로젝트 선택 드롭다운 클릭
   - 모든 프로젝트 목록이 표시됨

3. **조직 내 프로젝트 확인**
   - 목록에서 조직(`ksmic333-org`) 아래에 속한 프로젝트들 확인
   - 예: `Default Gemini Project`, `blog-ai-search`, `My First Project` 등

4. **불필요한 프로젝트 삭제**
   - 각 프로젝트 옆의 **"⋮"** (점 3개) 메뉴 클릭
   - **"삭제"** 선택
   - 위의 **8-2-1 방법** 참고
   - ⚠️ **`amazing-biz-blog`는 삭제하지 마세요!**

5. **삭제 확인**
   - 프로젝트 선택 드롭다운에서 삭제한 프로젝트가 사라졌는지 확인
   - `amazing-biz-blog`만 남아있는지 확인

---

**방법 2: 리소스 관리자 페이지 사용**

1. **리소스 관리자 페이지 접속**
   - [리소스 관리자](https://console.cloud.google.com/cloud-resource-manager) 접속
   - 또는 Google Cloud Console에서 **"리소스 관리"** 메뉴 클릭

2. **프로젝트 목록 확인**
   - 모든 프로젝트가 목록으로 표시됨
   - 조직에 속한 프로젝트 확인

3. **프로젝트 삭제**
   - 삭제할 프로젝트 선택
   - **"삭제"** 버튼 클릭
   - 프로젝트 ID 입력하여 확인

---

**방법 3: 조직 관리 페이지 접속 (조직 관리자 권한 필요)**

**⚠️ 주의**: 이 페이지는 조직 관리자 권한이 있어야 접근 가능합니다.

1. **Google Cloud Console 접속**
   - [Google Cloud Console](https://console.cloud.google.com) 접속

2. **조직 관리 메뉴 찾기**
   - 왼쪽 햄버거 메뉴(☰) 클릭
   - **"IAM 및 관리"** 또는 **"IAM & Admin"** 메뉴 확장
   - **"조직"** 또는 **"Organization"** 클릭
   - 또는 직접 URL: `https://console.cloud.google.com/cloud-resource-manager?folder=&organizationId=`

3. **조직 선택**
   - 조직(`ksmic333-org`) 선택
   - 조직 내 프로젝트 목록 확인

4. **프로젝트 삭제**
   - 위의 방법과 동일하게 삭제

---

#### 8-5-3. 조직 삭제/나가기 방법

**📌 중요: 조직은 Actions 메뉴에서 직접 삭제할 수 없습니다!**

**조직 삭제는 매우 복잡하고 제한적입니다:**
- ⚠️ 조직 관리자 권한이 필요함
- ⚠️ 조직 내 모든 프로젝트가 삭제되어야 함
- ⚠️ 조직에 속한 모든 사용자가 제거되어야 함
- ⚠️ 대부분의 경우 조직 삭제가 불가능함

**💡 더 간단한 해결책: 조직은 그대로 두고 프로젝트만 정리**

**실제로 필요한 것:**
- ✅ 프로젝트 목록에 `amazing-biz-blog`만 보이게 하기
- ✅ 불필요한 프로젝트 삭제
- ❌ 조직 자체를 삭제할 필요는 없음

---

**방법 1: 조직은 그대로 두고 프로젝트만 정리 (권장)**

**이 방법이 가장 간단하고 안전합니다!**

1. **리소스 관리 페이지에서 프로젝트 삭제**
   - 현재 보고 있는 리소스 관리 페이지에서
   - `Default Gemini Project`, `blog-ai-search` 등 불필요한 프로젝트 선택
   - 각 프로젝트의 Actions(⋮) 메뉴에서 **"삭제"** 선택
   - 프로젝트 ID 입력하여 확인

2. **조직은 그대로 두기**
   - 조직(`ksmic333-org`)은 삭제하지 않아도 됨
   - 조직이 있어도 프로젝트 목록에는 영향 없음

3. **프로젝트 목록 확인**
   - 프로젝트 선택 드롭다운에서 `amazing-biz-blog`만 보이면 완료!
   - 조직은 보이지 않아도 됨 (프로젝트만 보이면 됨)

**✅ 이 방법으로도 목표 달성 가능!**

---

**방법 2: 조직에서 나가기 (조직 관리자가 아닌 경우)**

**조직 관리자가 아닌 경우:**

1. **조직 설정 페이지 접속**
   - 리소스 관리 페이지에서 조직(`ksmic333-org`) 클릭
   - 또는 Actions(⋮) → **"설정"** 클릭

2. **조직에서 나가기 버튼 찾기**
   - **"조직에서 나가기"** 또는 **"Leave organization"** 버튼 확인
   - ⚠️ 이 버튼이 보이지 않으면 조직 관리자가 아닐 수 있음

3. **나가기 확인**
   - 버튼이 있으면 클릭하여 확인
   - 조직에서 나가면 조직 관련 항목이 목록에서 사라짐

**⚠️ 주의:**
- 조직 관리자가 아닌 경우: 나가기 버튼이 보이지 않을 수 있음
- 조직 관리자인 경우: 다른 방법 필요

---

**방법 3: 조직 삭제 (조직 관리자인 경우, 매우 복잡)**

**⚠️ 매우 주의**: 조직 삭제는 복구할 수 없습니다!

**조직을 삭제하려면:**
1. 조직 내 모든 프로젝트 삭제 완료
2. 조직에 속한 모든 사용자 제거
3. 조직 관리자 권한 필요

**삭제 방법:**
1. 조직 설정 페이지 접속
2. **"조직 삭제"** 또는 **"Delete organization"** 버튼 찾기
3. ⚠️ 이 버튼은 매우 깊은 설정 메뉴에 있을 수 있음
4. 확인 메시지에서 조직 ID 입력
5. **"삭제"** 클릭

**⚠️ 매우 주의:**
- 조직 삭제는 되돌릴 수 없습니다!
- **권장하지 않음**: 방법 1(프로젝트만 정리)을 먼저 시도하세요

---

**방법 2: 조직 관리자에게 요청**

**조직 관리자가 아닌 경우:**
1. 조직 관리자에게 연락
2. 조직에서 제거 요청
3. 또는 조직 삭제 요청

---

**방법 3: 조직이 보이지 않는 경우**

**조직이 보이지 않으면:**
- 이미 조직에서 나간 상태일 수 있음
- 개인 계정으로 프로젝트를 사용 중일 수 있음
- 이 경우 추가 작업 불필요

---

#### 8-5-4. 조직 삭제 (조직 관리자인 경우)

**⚠️ 매우 주의**: 조직 삭제는 복구할 수 없습니다!

**조직을 삭제하려면:**
1. 조직 내 모든 프로젝트가 삭제되어야 함
2. 조직에 속한 모든 사용자가 제거되어야 함
3. 조직 관리자 권한이 있어야 함

**삭제 방법:**

1. **Google Cloud Console 접속**
   - [Google Cloud Console](https://console.cloud.google.com) 접속

2. **조직 관리 메뉴 접속**
   - 왼쪽 햄버거 메뉴(☰) 클릭
   - **"IAM 및 관리"** → **"조직"** 클릭
   - 또는 상단 검색창에 "조직" 검색

3. **조직 선택**
   - 삭제할 조직(`ksmic333-org`) 선택
   - 조직 상세 페이지로 이동

4. **조직 삭제**
   - **"설정"** 또는 **"Settings"** 탭 클릭
   - **"조직 삭제"** 또는 **"Delete organization"** 버튼 찾기
   - ⚠️ 이 버튼은 조직 관리자만 볼 수 있습니다

5. **삭제 확인**
   - 확인 메시지에서 조직 ID 입력
   - **"삭제"** 클릭

**⚠️ 매우 주의:**
- 조직 삭제는 되돌릴 수 없습니다!
- 모든 프로젝트와 데이터가 영구적으로 삭제됩니다!
- **권장하지 않음**: 조직에서 나가는 방법(8-5-3)을 먼저 시도하세요
- **더 안전한 방법**: 모든 프로젝트를 삭제하고 조직을 그대로 두는 것도 방법입니다

---

#### 8-5-5. 프로젝트를 개인 계정으로 이동 (조직에서 분리)

**조직을 삭제하지 않고 프로젝트만 개인 계정으로 이동하는 방법:**

**⚠️ 주의**: Google Cloud에서는 프로젝트를 조직에서 개인 계정으로 직접 이동할 수 없습니다.

**대안:**
1. **새 프로젝트 생성** (이미 완료: `amazing-biz-blog`)
2. **기존 프로젝트에서 필요한 것 복사**
   - API 키, 설정 등
3. **기존 프로젝트 삭제**
4. **조직에서 나가기** (8-5-3)

---

#### 8-5-6. 프로젝트 목록 정리 (한 개만 보이게)

**목표**: 프로젝트 선택 드롭다운에 `amazing-biz-blog`만 표시되도록

**💡 핵심**: 조직을 삭제할 필요 없이 프로젝트만 삭제하면 됩니다!

**방법:**

1. **리소스 관리 페이지에서 프로젝트 삭제**
   - 현재 보고 있는 리소스 관리 페이지에서
   - `Default Gemini Project` 선택 → Actions(⋮) → **"삭제"**
   - `blog-ai-search` 선택 → Actions(⋮) → **"삭제"**
   - 기타 불필요한 프로젝트 모두 삭제
   - ⚠️ **`amazing-biz-blog`는 삭제하지 마세요!**

2. **조직은 그대로 두기**
   - 조직(`ksmic333-org`)은 삭제하지 않아도 됨
   - 조직이 있어도 프로젝트 목록에는 영향 없음
   - 프로젝트만 삭제하면 목록에 `amazing-biz-blog`만 남음

3. **프로젝트 목록 확인**
   - 프로젝트 선택 드롭다운 클릭
   - `amazing-biz-blog`만 표시되는지 확인
   - ✅ 목표 달성!

**💡 팁:**
- **조직을 삭제할 필요 없습니다!** 프로젝트만 삭제하면 됩니다
- 프로젝트를 삭제하면 목록에서 사라집니다
- 조직은 그대로 있어도 프로젝트 목록에는 표시되지 않습니다
- 개인 계정의 프로젝트(`amazing-biz-blog`)만 표시됩니다

---

#### 8-5-7. 최종 확인

**다음이 모두 완료되었는지 확인:**

- [ ] 조직 내 모든 불필요한 프로젝트 삭제 완료
- [ ] `amazing-biz-blog` 프로젝트만 남아있음
- [ ] 조직에서 나가기 완료 (또는 조직 삭제 완료)
- [ ] 프로젝트 선택 드롭다운에 `amazing-biz-blog`만 표시됨
- [ ] 애플리케이션이 정상 작동함

**✅ 완료!** 이제 프로젝트 목록에 `amazing-biz-blog`만 표시됩니다.

---

## 9. 테스트 및 확인

### 9-1. API 키 테스트
1. 개발 서버 실행: `npm run dev`
2. 애플리케이션에서 다음 기능 테스트:
   - ✅ 블로그 생성 (Gemini API)
   - ✅ Q&A 생성 (Gemini API)
   - ✅ Google Sheets 데이터 읽기
   - ✅ Google Custom Search 검색
   - ✅ OAuth 로그인 (필요한 경우)

### 9-2. 할당량 확인
1. [Google Cloud Console](https://console.cloud.google.com) → 새 프로젝트 선택
2. 왼쪽 메뉴에서 **"API 및 서비스"** → **"대시보드"** 클릭
3. 각 API의 사용량 확인:
   - Generative Language API
   - Custom Search API
   - Google Sheets API

### 9-3. 오류 확인
- 콘솔 로그에서 API 키 관련 오류가 없는지 확인
- 브라우저 개발자 도구에서 네트워크 오류 확인

---

## 10. 할당량 관리 팁

### 10-1. 할당량 모니터링
1. **"API 및 서비스"** → **"할당량"** 클릭
2. 각 API의 할당량 확인
3. **"할당량 경고"** 설정 (이메일 알림)

### 10-2. 할당량 초과 대비
- **Gemini Flash 모델 우선 사용**: 비용 절감
- **캐싱 활용**: 동일한 요청 재사용
- **GPT와 50:50 분산**: 할당량 분산 (추후 구현 가능)

---

## 11. 문제 해결

### 11-1. API 키 오류
**증상**: `API key not valid` 오류
**해결**:
1. `.env.local` 파일의 키가 올바른지 확인
2. API 키 제한사항 확인 (특정 API만 허용했는지)
3. 서버 재시작

### 11-2. Custom Search 오류
**증상**: `Custom Search API` 오류
**해결**:
1. Custom Search API 활성화 확인
2. 검색 엔진 ID 확인
3. API 키가 Custom Search API에 허용되어 있는지 확인

### 11-3. OAuth 오류
**증상**: OAuth 로그인 실패
**해결**:
1. 리디렉션 URI가 정확한지 확인
2. OAuth 동의 화면 설정 완료 확인
3. 테스트 사용자에 본인 이메일 추가 확인

---

## 12. 완료 체크리스트

- [ ] 새 프로젝트 생성 완료
- [ ] 결제 계정 연결 완료
- [ ] Generative Language API 활성화
- [ ] Custom Search API 활성화
- [ ] Google Sheets API 활성화
- [ ] Gemini API 키 발급 및 저장
- [ ] Google API 키 발급 및 저장
- [ ] Custom Search Engine 재설정
- [ ] OAuth 클라이언트 재설정
- [ ] `.env.local` 파일 업데이트
- [ ] 서버 재시작 및 테스트 완료
- [ ] 기존 프로젝트 삭제 완료

---

## 📞 추가 도움말

- [Google Cloud Console](https://console.cloud.google.com)
- [Gemini API 문서](https://ai.google.dev/docs)
- [Custom Search API 문서](https://developers.google.com/custom-search/v1/overview)
- [Google Sheets API 문서](https://developers.google.com/sheets/api)

---

**작성일**: 2024-12-16
**버전**: 1.0

